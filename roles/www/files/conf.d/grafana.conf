<VirtualHost *:443>
DocumentRoot "/var/www/grafana"
ServerName grafana.codeshelf.com:443

ProxyPass /elastic/ http://elastic4:9200/
ProxyPass /tsdb/ http://hadoop1:4242/
ProxyPassReverse /tsdb/ http://hadoop1:4242/

SSLEngine on
SSLProtocol all -SSLv2
SSLCipherSuite ALL:!ADH:!EXPORT:!SSLv2:RC4+RSA:+HIGH:+MEDIUM:+LOW

SSLCertificateFile /etc/pki/tls/certs/grafana.codeshelf.com.crt
SSLCertificateKeyFile /etc/pki/tls/private/grafana.codeshelf.com.key
SSLCertificateChainFile /etc/pki/tls/certs/codeshelf-ca.crt

SSLCACertificateFile /etc/pki/tls/certs/codeshelf-ca.crt
SSLVerifyClient require
SSLVerifyDepth  2
SSLOptions +StdEnvVars +StrictRequire
SSLUsername SSL_CLIENT_S_DN_CN
</VirtualHost>

